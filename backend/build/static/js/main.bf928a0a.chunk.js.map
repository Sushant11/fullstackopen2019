{"version":3,"sources":["components/PersonForm.js","components/Login.js","components/Persons.js","services/persons.js","services/login.js","components/Notification.js","components/App.js","index.js"],"names":["PersonForm","props","Form","onSubmit","addPerson","className","Group","controlId","Control","type","placeholder","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","Button","variant","Login","handleLogin","username","name","target","setUsername","password","setPassword","Persons","person","handleDelete","persons","Table","striped","bordered","hover","number","onClick","baseUrl","token","axios","get","newObject","a","async","config","headers","Authorization","post","response","data","id","delete","newToken","credentials","Notification","message","Alert","App","useState","setPersons","setNewName","setNewNubmer","errorMessage","setErrorMessage","user","setUser","useEffect","personService","then","loggedUserJSON","window","localStorage","getItem","JSON","parse","Container","Card","style","width","padding","margin","Col","md","event","preventDefault","loginService","setItem","stringify","setTimeout","e","personObject","find","item","alert","concat","length","map","key","confirm","document","location","reload","textAlign","removeItem","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bf928a0a.chunk.js","sourcesContent":["import React from \"react\";\nimport {Form, Button} from 'react-bootstrap'\n\nconst PersonForm = props => {\n  return (\n    <Form onSubmit={props.addPerson} className=\"mt-1 mb-3\">\n<Form.Group controlId=\"name\">\n    {/* <Form.Label>Name:</Form.Label> */}\n    <Form.Control type=\"text\" placeholder=\"Name\" value={props.newName} onChange={props.handleNameChange}/>\n  </Form.Group>\n  <Form.Group controlId=\"number\">\n    {/* <Form.Label>Number:</Form.Label> */}\n    <Form.Control type=\"number\" placeholder=\"Contact Details\"  value={props.newNumber}\n              onChange={props.handleNumberChange}/>\n  </Form.Group>\n  <Button variant=\"info\" type=\"submit\">\n    Add\n  </Button>\n    </Form>\n    // <form onSubmit={props.addPerson}>\n    //   <table>\n    //     <tbody>\n    //     <tr>\n    //       <td>Name:</td>\n    //       <td>\n    //         <input value={props.newName} onChange={props.handleNameChange} />\n    //       </td>\n    //     </tr>\n    //     <tr>\n    //       <td>Phone No:</td>\n    //       <td>\n    //         <input\n    //           value={props.newNumber}\n    //           onChange={props.handleNumberChange}\n    //         />\n    //       </td>\n    //     </tr>\n    //     <tr>\n    //       <td>\n    //         <button type=\"submit\">Add</button>\n    //       </td>\n    //     </tr>\n    //     </tbody>\n    //   </table>\n    // </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\nimport {Form, Button} from 'react-bootstrap'\n\nconst Login =  props => {\n  return (\n    <Form onSubmit={props.handleLogin}>\n<Form.Group controlId=\"username\">\n    <Form.Control type=\"text\" placeholder=\"Username\"  value={props.username}\n                name=\"Username\"\n                onChange={({ target }) => props.setUsername(target.value)}/>\n  </Form.Group>\n\n  <Form.Group controlId=\"password\">\n    <Form.Control type=\"password\" placeholder=\"Password\"  value={props.password}\n                name=\"Password\"\n                onChange={({ target }) => props.setPassword(target.value)}/>\n  </Form.Group>\n  <Button variant=\"info\" type=\"submit\">\n    Login\n  </Button>\n    </Form>\n    // <form onSubmit={props.handleLogin}>\n    //   <table>\n    //     <tbody>\n    //       <tr>\n    //         <td>Username</td>\n    //         <td>\n    //           {\" \"}\n    //           <input\n    //             type=\"text\"\n    //             value={props.username}\n    //             name=\"Username\"\n    //             onChange={({ target }) => props.setUsername(target.value)}\n    //           />\n    //         </td>\n    //       </tr>\n    //       <tr>\n    //         <td>Password</td>\n    //         <td>\n    //           <input\n    //             type=\"password\"\n    //             value={props.password}\n    //             name=\"Password\"\n    //             onChange={({ target }) => props.setPassword(target.value)}\n    //           />\n    //         </td>\n    //       </tr>\n    //       <tr>\n    //         <td>\n    //           <button type=\"submit\">Login</button>\n    //         </td>\n    //       </tr>\n    //     </tbody>\n    //   </table>\n    // </form>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport {Table, Button} from 'react-bootstrap'\n\nconst Persons = ({ person, persons, handleDelete }) => {\n  return (\n    <Table striped bordered hover>\n      <thead>\n        <tr>\n          {/* <th>#</th> */}\n          <th>Name</th>\n          <th>Number</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          {/* <td>{persons.length + 1 }</td> */}\n          <td>\n          {person.name}\n          </td>\n          <td>\n          {person.number}\n          </td>\n          <td>\n            <Button variant='danger' onClick={handleDelete}>\n            Delete\n            </Button>\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n    // <div>\n    //   <li>\n    //     {person.name} : {person.number}{\" \"}\n    //     <button onClick={handleDelete}>Delete</button>\n    //   </li>\n    // </div>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject);\n};\n\nconst deleted = id => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nexport default { getAll, create, update, deleted, setToken };\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React from 'react';\nimport '../index.css'\nimport {Alert} from 'react-bootstrap'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <Alert className=\"error\" variant='info'>\n        {message}\n      </Alert>\n    )\n  }\n\nexport default Notification;","import React, { useState, useEffect, Fragment } from \"react\";\nimport PersonForm from \"./PersonForm\";\nimport Login from \"./Login\";\nimport Persons from \"./Persons\";\nimport personService from \"../services/persons\";\nimport loginService from \"../services/login\";\nimport Notification from \"./Notification\";\nimport { Container, Row, Col, Card, Button, Alert } from \"react-bootstrap\";\n\nconst App = props => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNubmer] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(response => setPersons(response.data));\n  }, []);\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem(\"loggedPhonebookUser\");\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      setUser(user);\n      personService.setToken(user.token);\n    }\n  }, []);\n\n  const addPerson = e => {\n    e.preventDefault();\n\n    const personObject = {\n      // id: persons.length + 1,\n      name: newName,\n      number: newNumber\n    };\n    if (persons.find(item => item.name === newName)) {\n      alert(`${newName} already added in the List.`);\n      setNewName(\"\");\n    } else {\n      personService.create(personObject).then(response => {\n        setPersons(persons.concat(response));\n        setNewName(\"\");\n        setNewNubmer(\"\");\n        setErrorMessage(\"New Person Added!\");\n      });\n    }\n  };\n\n  const handleNameChange = e => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = e => {\n    setNewNubmer(e.target.value);\n  };\n\n  const handleDelete = id => {\n    var r = window.confirm(`Delete ${id}?`);\n    if (r === true) {\n      personService.deleted(id).then(response => {\n        alert(`${id} Deleted`, document.location.reload());\n        return response.data;\n      });\n    } else {\n    }\n  };\n\n  const handleLogin = async event => {\n    event.preventDefault();\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n\n      window.localStorage.setItem(\"loggedPhonebookUser\", JSON.stringify(user));\n\n      personService.setToken(user.token);\n      setUser(user);\n      setUsername(\"\");\n      setPassword(\"\");\n    } catch (exception) {\n      setErrorMessage(\"Wrong credentials\");\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const handleLogout = () => {\n    window.localStorage.removeItem(\"loggedPhonebookUser\");\n    window.location.reload();\n  };\n\n  const styles = {\n    width: \"30%\",\n    padding: \"30px\",\n    margin: \"auto\"\n  };\n\n  const stylesMain = {\n    width: \"45%\",\n    padding: \"20px\",\n    margin: \"auto\"\n  };\n\n  const rows = () =>\n    persons.map(person => (\n      <Persons\n        key={person.id}\n        person={person}\n        persons={persons}\n        handleDelete={() => handleDelete(person.id)}\n      />\n    ));\n\n  return (\n    <div>\n      <Notification message={errorMessage} />\n\n      {user === null ? (\n        <Fragment>\n          <Container>\n            {\" \"}\n            <Card style={styles}>\n              <Col md=\"auto\" className=\"mx-auto\">\n                {\" \"}\n                <h4>Login</h4>\n                <Login\n                  username={username}\n                  password={password}\n                  setUsername={setUsername}\n                  setPassword={setPassword}\n                  handleLogin={handleLogin}\n                />\n              </Col>\n            </Card>\n          </Container>\n        </Fragment>\n      ) : (\n        <Container>\n          <Card style={stylesMain}>\n            <h3>Phonebook</h3>\n            <PersonForm\n              addPerson={addPerson}\n              newName={newName}\n              newNumber={newNumber}\n              handleNumberChange={handleNumberChange}\n              handleNameChange={handleNameChange}\n            />\n            <h4>Numbers</h4>\n            {persons.length === 0 ? <Alert variant='warning'>No Data</Alert> : rows()}\n          </Card>\n          <div className=\"mt-3\" style={{textAlign: 'center'}}>\n            {user.name} Logged In.{\" \"}\n            <Button variant=\"secondary\" onClick={handleLogout}>\n              Logout\n            </Button>\n          </div>\n        </Container>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}