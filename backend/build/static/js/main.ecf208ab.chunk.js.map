{"version":3,"sources":["components/PersonForm.js","components/Login.js","components/Persons.js","services/persons.js","services/login.js","components/Notification.js","components/App.js","index.js"],"names":["PersonForm","props","Form","onSubmit","addPerson","className","Group","controlId","Control","type","placeholder","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","Button","variant","Login","handleLogin","username","name","target","setUsername","password","setPassword","Persons","person","handleDelete","persons","Table","striped","bordered","hover","number","onClick","baseUrl","token","axios","get","newObject","a","async","config","headers","Authorization","post","response","data","id","delete","newToken","credentials","Notification","message","Alert","App","useState","setPersons","setNewName","setNewNubmer","errorMessage","setErrorMessage","user","setUser","useEffect","personService","then","loggedUserJSON","window","localStorage","getItem","JSON","parse","Card","style","padding","width","margin","Col","md","event","preventDefault","loginService","setItem","stringify","setTimeout","Container","e","personObject","find","item","alert","concat","length","map","key","confirm","document","location","reload","textAlign","removeItem","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ecf208ab.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Form, Button} from 'react-bootstrap'\r\n\r\nconst PersonForm = props => {\r\n  return (\r\n    <Form onSubmit={props.addPerson} className=\"mt-1 mb-3\">\r\n<Form.Group controlId=\"name\">\r\n    {/* <Form.Label>Name:</Form.Label> */}\r\n    <Form.Control type=\"text\" placeholder=\"Name\" value={props.newName} onChange={props.handleNameChange}/>\r\n  </Form.Group>\r\n  <Form.Group controlId=\"number\">\r\n    {/* <Form.Label>Number:</Form.Label> */}\r\n    <Form.Control type=\"number\" placeholder=\"Contact Details\"  value={props.newNumber}\r\n              onChange={props.handleNumberChange}/>\r\n  </Form.Group>\r\n  <Button variant=\"info\" type=\"submit\">\r\n    Add\r\n  </Button>\r\n    </Form>\r\n    // <form onSubmit={props.addPerson}>\r\n    //   <table>\r\n    //     <tbody>\r\n    //     <tr>\r\n    //       <td>Name:</td>\r\n    //       <td>\r\n    //         <input value={props.newName} onChange={props.handleNameChange} />\r\n    //       </td>\r\n    //     </tr>\r\n    //     <tr>\r\n    //       <td>Phone No:</td>\r\n    //       <td>\r\n    //         <input\r\n    //           value={props.newNumber}\r\n    //           onChange={props.handleNumberChange}\r\n    //         />\r\n    //       </td>\r\n    //     </tr>\r\n    //     <tr>\r\n    //       <td>\r\n    //         <button type=\"submit\">Add</button>\r\n    //       </td>\r\n    //     </tr>\r\n    //     </tbody>\r\n    //   </table>\r\n    // </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport {Form, Button} from 'react-bootstrap'\r\n\r\nconst Login =  props => {\r\n  return (\r\n    <Form onSubmit={props.handleLogin}>\r\n<Form.Group controlId=\"username\">\r\n    <Form.Control type=\"text\" placeholder=\"Username\"  value={props.username}\r\n                name=\"Username\"\r\n                onChange={({ target }) => props.setUsername(target.value)}/>\r\n  </Form.Group>\r\n\r\n  <Form.Group controlId=\"password\">\r\n    <Form.Control type=\"password\" placeholder=\"Password\"  value={props.password}\r\n                name=\"Password\"\r\n                onChange={({ target }) => props.setPassword(target.value)}/>\r\n  </Form.Group>\r\n  <Button variant=\"info\" type=\"submit\">\r\n    Login\r\n  </Button>\r\n    </Form>\r\n    // <form onSubmit={props.handleLogin}>\r\n    //   <table>\r\n    //     <tbody>\r\n    //       <tr>\r\n    //         <td>Username</td>\r\n    //         <td>\r\n    //           {\" \"}\r\n    //           <input\r\n    //             type=\"text\"\r\n    //             value={props.username}\r\n    //             name=\"Username\"\r\n    //             onChange={({ target }) => props.setUsername(target.value)}\r\n    //           />\r\n    //         </td>\r\n    //       </tr>\r\n    //       <tr>\r\n    //         <td>Password</td>\r\n    //         <td>\r\n    //           <input\r\n    //             type=\"password\"\r\n    //             value={props.password}\r\n    //             name=\"Password\"\r\n    //             onChange={({ target }) => props.setPassword(target.value)}\r\n    //           />\r\n    //         </td>\r\n    //       </tr>\r\n    //       <tr>\r\n    //         <td>\r\n    //           <button type=\"submit\">Login</button>\r\n    //         </td>\r\n    //       </tr>\r\n    //     </tbody>\r\n    //   </table>\r\n    // </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport {Table, Button} from 'react-bootstrap'\r\n\r\nconst Persons = ({ person, persons, handleDelete }) => {\r\n  return (\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          {/* <th>#</th> */}\r\n          <th>Name</th>\r\n          <th>Number</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          {/* <td>{persons.length + 1 }</td> */}\r\n          <td>\r\n          {person.name}\r\n          </td>\r\n          <td>\r\n          {person.number}\r\n          </td>\r\n          <td>\r\n            <Button variant='danger' onClick={handleDelete}>\r\n            Delete\r\n            </Button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n    // <div>\r\n    //   <li>\r\n    //     {person.name} : {person.number}{\" \"}\r\n    //     <button onClick={handleDelete}>Delete</button>\r\n    //   </li>\r\n    // </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nconst deleted = id => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default { getAll, create, update, deleted, setToken };\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react';\r\nimport '../index.css'\r\nimport {Alert} from 'react-bootstrap'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <Alert className=\"error\" variant='info'>\r\n        {message}\r\n      </Alert>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport PersonForm from \"./PersonForm\";\r\nimport Login from \"./Login\";\r\nimport Persons from \"./Persons\";\r\nimport personService from \"../services/persons\";\r\nimport loginService from \"../services/login\";\r\nimport Notification from \"./Notification\";\r\nimport '.././index.css'\r\nimport { Container, Row, Col, Card, Button, Alert } from \"react-bootstrap\";\r\n\r\nconst App = props => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNubmer] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(response => setPersons(response.data));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem(\"loggedPhonebookUser\");\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON);\r\n      setUser(user);\r\n      personService.setToken(user.token);\r\n    }\r\n  }, []);\r\n\r\n  const addPerson = e => {\r\n    e.preventDefault();\r\n\r\n    const personObject = {\r\n      // id: persons.length + 1,\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n    if (persons.find(item => item.name === newName)) {\r\n      alert(`${newName} already added in the List.`);\r\n      setNewName(\"\");\r\n    } else {\r\n      personService.create(personObject).then(response => {\r\n        setPersons(persons.concat(response));\r\n        setNewName(\"\");\r\n        setNewNubmer(\"\");\r\n        setErrorMessage(\"New Person Added!\");\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = e => {\r\n    setNewName(e.target.value);\r\n  };\r\n  const handleNumberChange = e => {\r\n    setNewNubmer(e.target.value);\r\n  };\r\n\r\n  const handleDelete = id => {\r\n    var r = window.confirm(`Delete ${id}?`);\r\n    if (r === true) {\r\n      personService.deleted(id).then(response => {\r\n        alert(`${id} Deleted`, document.location.reload());\r\n        return response.data;\r\n      });\r\n    } else {\r\n    }\r\n  };\r\n\r\n  const handleLogin = async event => {\r\n    event.preventDefault();\r\n    try {\r\n      const user = await loginService.login({\r\n        username,\r\n        password\r\n      });\r\n\r\n      window.localStorage.setItem(\"loggedPhonebookUser\", JSON.stringify(user));\r\n\r\n      personService.setToken(user.token);\r\n      setUser(user);\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n    } catch (exception) {\r\n      setErrorMessage(\"Wrong credentials\");\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    window.localStorage.removeItem(\"loggedPhonebookUser\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const styles = {\r\n    padding: \"30px\",\r\n    width: \"20rem\",\r\n    margin: 'auto'\r\n  };\r\n\r\n  const stylesMain = {\r\n    width: \"45%\",\r\n    padding: \"20px\",\r\n    margin: \"auto\"\r\n  };\r\n\r\n  const rows = () =>\r\n    persons.map(person => (\r\n      <Persons\r\n        key={person.id}\r\n        person={person}\r\n        persons={persons}\r\n        handleDelete={() => handleDelete(person.id)}\r\n      />\r\n    ));\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={errorMessage} />\r\n\r\n      {user === null ? (\r\n        <Fragment>\r\n            <Card style={styles} className='resp-login'>\r\n              <Col md=\"auto\" className=\"mx-auto\">\r\n                {\" \"}\r\n                <h4>Login</h4>\r\n                <Login\r\n                  username={username}\r\n                  password={password}\r\n                  setUsername={setUsername}\r\n                  setPassword={setPassword}\r\n                  handleLogin={handleLogin}\r\n                />\r\n              </Col>\r\n            </Card>\r\n        </Fragment>\r\n      ) : (\r\n        <Container>\r\n          <Card style={stylesMain} className='resp-main'>\r\n            <h3>Phonebook</h3>\r\n            <PersonForm\r\n              addPerson={addPerson}\r\n              newName={newName}\r\n              newNumber={newNumber}\r\n              handleNumberChange={handleNumberChange}\r\n              handleNameChange={handleNameChange}\r\n            />\r\n            <h4>Numbers</h4>\r\n            {persons.length === 0 ? <Alert variant='warning'>No Data</Alert> : rows()}\r\n          </Card>\r\n          <div className=\"mt-3\" style={{textAlign: 'center'}}>\r\n            {user.name} Logged In.{\" \"}\r\n            <Button variant=\"secondary\" onClick={handleLogout}>\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </Container>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}